= To Configure the Auto-Discovery XML Element (Mule 4)
:imagesdir: ./_images

In Mule 4, the API is identified by the `API Id` and a reference to a `flow` where the HTTP listener is defined. Mule 4 `apiId` replaces the `apiName` and `apiVersion` used to specify the Auto-Discovery element in Mule 3.x and prior.

[NOTE]
====
Mule 4 relies on Crowd (API Manager v2) type organizations to bind to an API Manager instance. This does not work for customers on a pre-Crowd release.
====

. On the API administration dashboard, expand the API version name to display the instances.
+
image::instances-jsonplaceholder.png[height=267,width=518]
+
. Click an instance name.
+
The API ID appears.
+
image::api-id.png[]
. Use the following syntax to specify the `apiId` in the configuration.xml:

===== Namespace and schema:
----
xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway"
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd
----

===== XML Element:

    <api-gateway:autodiscovery apiId="${api.id}" flowRef="proxy" />

[NOTE]
 When creating a Mule Application, you can either replace `${api.id}` with your specific value, or create a `config.properties` file where you define in a key-value fashion: `api.id=[the-actual-value]`. Though both options are supported, MuleSoft recommends the latter option as a good practice.



